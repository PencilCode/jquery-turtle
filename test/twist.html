<script src="lib/qunit.js"></script>
<link href="lib/qunit.css" rel="stylesheet">
<script src="lib/jquery.js"></script>
<script src="../jquery-turtle.js"></script>
<body>
<div id="qunit"></div>
<script>
eval($.turtle());
module("Twist test.");
asyncTest("Test of twisting a skinny shape.", function() {
  speed(Infinity);
  move(100);
  dot(yellow);
  move(-200);
  dot(pink);
  move(100);
  fd(100);
  dot(red);
  bk(200)
  dot(blue);
  var s = new Sprite({ width: 10, height: 200, color: green, id: "s" });
  equal($('#s').length, 1);
  equal(s.filter('#s').length, 1);
  ok(s.touches(red));
  ok(s.touches(blue));
  ok(!s.touches(pink));
  ok(!s.touches(yellow));
  s.twist(1);
  ok(s.touches(red));
  ok(s.touches(blue));
  ok(!s.touches(pink));
  ok(!s.touches(yellow));
  s.twist(89);
  ok(!s.touches(red));
  ok(!s.touches(blue));
  ok(s.touches(pink));
  ok(s.touches(yellow));
  s.fd(100);
  ok(s.touches(red));
  ok(!s.touches(blue));
  ok(!s.touches(pink));
  ok(!s.touches(yellow));
  start();
});
</script>
